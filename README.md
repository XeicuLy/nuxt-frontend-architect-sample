# Nuxt 4 + Hono + TanStack Query ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ ã‚µãƒ³ãƒ—ãƒ«

## ğŸ“– ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€**Nuxt 4**ã€**Hono**ã€**TanStack Query** ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¢ãƒ€ãƒ³ãªãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webé–‹ç™ºã®ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚åˆå­¦è€…ã‹ã‚‰ä¸Šç´šè€…ã¾ã§ã€æœ€æ–°ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½¿ã£ãŸãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã®é–‹ç™ºæ‰‹æ³•ã‚’å­¦ã¹ã‚‹æ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚

### ğŸ¯ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å­¦ã¹ã‚‹ã“ã¨

- **Nuxt 4** ã§ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º
- **Hono** ã«ã‚ˆã‚‹é«˜æ€§èƒ½ãªAPIé–‹ç™ºã¨OpenAPIçµ±åˆ
- **TanStack Query** ã‚’ä½¿ã£ãŸåŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
- **TypeScript** ã«ã‚ˆã‚‹å®Œå…¨ãªå‹å®‰å…¨æ€§ã®å®Ÿç¾
- **API-Firsté–‹ç™º** ã®å®Ÿè·µï¼ˆOpenAPI + Zodï¼‰
- **ãƒ¢ãƒ€ãƒ³ãªé–‹ç™ºãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³** ã®æ´»ç”¨

### ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **[Nuxt 4](https://nuxt.com/)** - ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Vue.jsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **[Vue 3](https://vuejs.org/)** - ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–JavaScriptãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **[TanStack Query](https://tanstack.com/query)** - å¼·åŠ›ãªãƒ‡ãƒ¼ã‚¿åŒæœŸãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **[TypeScript](https://www.typescriptlang.org/)** - å‹å®‰å…¨ãªé–‹ç™º
- **[Tailwind CSS](https://tailwindcss.com/)** - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆCSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **[Pinia](https://pinia.vuejs.org/)** - Vue 3å‘ã‘çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **[Hono](https://hono.dev/)** - ã‚¨ãƒƒã‚¸ãƒ©ãƒ³ã‚¿ã‚¤ãƒ å¯¾å¿œé«˜æ€§èƒ½Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **[Zod](https://zod.dev/)** - TypeScriptå‘ã‘ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **[OpenAPI](https://www.openapis.org/)** - APIä»•æ§˜æ›¸ã®è‡ªå‹•ç”Ÿæˆã¨Swagger UI

#### é–‹ç™ºãƒ„ãƒ¼ãƒ«

- **[Biome](https://biomejs.dev/)** - é«˜é€Ÿãƒªãƒ³ã‚¿ãƒ¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- **[ESLint](https://eslint.org/)** - JavaScript/TypeScripté™çš„è§£æãƒ„ãƒ¼ãƒ«
- **[Prettier](https://prettier.io/)** - ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- **[@hey-api/openapi-ts](https://github.com/hey-api/openapi-ts)** - TypeScriptå‹å®šç¾©è‡ªå‹•ç”Ÿæˆ

### ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´

- **ãƒ¢ãƒãƒ¬ãƒæ§‹æˆ**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€å…±æœ‰å‹å®šç¾©ã‚’çµ±åˆç®¡ç†
- **API-Firsté–‹ç™º**: OpenAPIä»•æ§˜ã‹ã‚‰TypeScriptå‹å®šç¾©ã‚’è‡ªå‹•ç”Ÿæˆ
- **å‹å®‰å…¨ãªé€šä¿¡**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰â‡”ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–“ã®å®Œå…¨ãªå‹å®‰å…¨æ€§
- **åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ç®¡ç†**: TanStack Queryã«ã‚ˆã‚‹SSRå¯¾å¿œã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ãƒ»åŒæœŸæ©Ÿèƒ½
- **é«˜æ€§èƒ½API**: Honoã«ã‚ˆã‚‹ã‚¨ãƒƒã‚¸ãƒ©ãƒ³ã‚¿ã‚¤ãƒ å¯¾å¿œã®è»½é‡ã§é«˜é€ŸãªAPI
- **ã‚³ãƒ³ãƒãƒ¼ã‚¶ãƒ–ãƒ«è¨­è¨ˆ**: å†åˆ©ç”¨å¯èƒ½ãªãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢
- **ãƒ¢ãƒ€ãƒ³ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³**: é–‹ç™ºåŠ¹ç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹æœ€æ–°ãƒ„ãƒ¼ãƒ«

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

ä»¥ä¸‹ã®ç’°å¢ƒãŒå¿…è¦ã§ã™ï¼š

- **Node.js** v24.6.0 ä»¥ä¸Š
- **pnpm** v10.15.0 ä»¥ä¸Šï¼ˆæ¨å¥¨ï¼‰

> ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯[Volta](https://volta.sh/)ã§ Node.js ã¨ pnpm ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’ã—ã¦ã„ã¾ã™ã€‚

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. **ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³**

   ```bash
   git clone <repository-url>
   cd nuxt-frontend-architect-sample
   ```

2. **ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

   ```bash
   pnpm install
   ```

3. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•**

   ```bash
   pnpm dev
   ```

4. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹**
   - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³: http://localhost:3000
   - API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: http://localhost:3000/api/swagger
   - OpenAPI ä»•æ§˜: http://localhost:3000/api/openapi.yaml

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
â”œâ”€â”€ app/                      # Nuxtã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ components/           # Vueã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ composables/          # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³é–¢æ•°
â”‚   â”œâ”€â”€ layouts/              # ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ pages/                # ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ (ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
â”‚   â”œâ”€â”€ services/             # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»APIé€šä¿¡
â”‚   â”œâ”€â”€ store/                # PiniaçŠ¶æ…‹ç®¡ç†
â”‚   â””â”€â”€ assets/css/           # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ server/                   # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ routes/           # API ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚       â””â”€â”€ schema/           # Zodã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”œâ”€â”€ shared/                   # å…±æœ‰ãƒªã‚½ãƒ¼ã‚¹
â”‚   â””â”€â”€ types/api/            # è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸå‹å®šç¾©ã¨Zodã‚¹ã‚­ãƒ¼ãƒ
â””â”€â”€ public/                   # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
```

### ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²

| ãƒ•ã‚¡ã‚¤ãƒ«               | å½¹å‰²                                   |
| ---------------------- | -------------------------------------- |
| `nuxt.config.ts`       | Nuxtã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«                     |
| `package.json`         | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ |
| `openapi-ts.config.ts` | TypeScriptå‹å®šç¾©ã®è‡ªå‹•ç”Ÿæˆè¨­å®š         |
| `app.vue`              | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |

## âš¡ ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm dev

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç”¨ãƒ“ãƒ«ãƒ‰
pnpm build

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
pnpm preview

# é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆ
pnpm generate
```

### ã‚³ãƒ¼ãƒ‰å“è³ªç®¡ç†

```bash
# ã™ã¹ã¦ã®ãƒªãƒ³ãƒˆãƒ»å‹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
pnpm lint

# è‡ªå‹•ä¿®æ­£ä»˜ããƒªãƒ³ãƒˆå®Ÿè¡Œ
pnpm lint:fix

# å‹ãƒã‚§ãƒƒã‚¯ã®ã¿å®Ÿè¡Œ
pnpm typecheck
```

### APIå‹å®šç¾©ã®ç”Ÿæˆ

```bash
# é–‹ç™ºç’°å¢ƒã‚’ç«‹ã¡ä¸Šã’ã‚‹
pnpm dev
# OpenAPIã‹ã‚‰TypeScriptå‹å®šç¾©ã‚’ç”Ÿæˆ
pnpm generate-types
```

## ğŸ”§ APIå‹å®šç¾©ãƒ»Zodã‚¹ã‚­ãƒ¼ãƒãƒ»TanStack Queryã®ä½¿ã„æ–¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€[openapi-ts](https://github.com/hey-api/openapi-ts)ã«ã‚ˆã‚‹å‹å®šç¾©è‡ªå‹•ç”Ÿæˆã€Zodã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã€TanStack Queryã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã‚’çµ±åˆçš„ã«æ´»ç”¨ã—ã¦ã„ã¾ã™ã€‚

### æ¦‚è¦

- **APIã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰ TypeScript ã®å‹å®šç¾©ã¨ Zod ã‚¹ã‚­ãƒ¼ãƒã‚’è‡ªå‹•ç”Ÿæˆ**
- **TanStack Query ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ãƒ»ãƒ‡ãƒ¼ã‚¿åŒæœŸ**
- ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ `shared/types/api/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã® API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹å®‰å…¨æ€§ã¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›
- **SSR/SSG å¯¾å¿œã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**

### ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«

```
shared/types/api/
â”œâ”€â”€ index.ts       # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”¨ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ types.gen.ts   # TypeScriptå‹å®šç¾©
â””â”€â”€ zod.gen.ts     # Zodã‚¹ã‚­ãƒ¼ãƒå®šç¾©
```

### ä½¿ç”¨ä¾‹

#### 1. åŸºæœ¬çš„ãªå‹ã®ä½¿ç”¨ï¼ˆç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰ä¾‹ï¼‰

```typescript
// services/useHealthService.ts
import type { GetApiHealthResponse } from '#shared/types/api';

export const useHealthService = () => {
  const getHealthApi = async () => {
    const { data } = await useFetch<GetApiHealthResponse>('/api/health', {
      method: 'GET',
    });
    return data.value;
  };

  return { getHealthApi };
};
```

#### 2. Zodã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ã£ãŸãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

```typescript
// services/useHealthServiceWithValidation.ts
import { zGetApiHealthResponse } from '#shared/types/api';

export const useHealthServiceWithValidation = () => {
  const getHealthApi = async () => {
    const response = await $fetch('/api/health');

    // APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’Zodã‚¹ã‚­ãƒ¼ãƒã§æ¤œè¨¼
    const validatedData = zGetApiHealthResponse.parse(response);

    return validatedData;
  };

  return { getHealthApi };
};
```

#### 3. TanStack Query ã‚’ä½¿ã£ãŸãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒï¼ˆæ¨å¥¨ï¼‰

```typescript
// services/useHealthService.ts
import { useQuery } from '@tanstack/vue-query';
import { type GetApiHealthResponse, zGetApiHealthResponse } from '#shared/types/api';

export const useHealthService = () => {
  const getHealthApi = async (): Promise<GetApiHealthResponse> => {
    const response = await $fetch<GetApiHealthResponse>('/api/health');
    return zGetApiHealthResponse.parse(response); // Zodã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼
  };

  const healthQuery = useQuery({
    queryKey: ['health'],
    queryFn: getHealthApi,
  });

  return {
    healthQuery, // { data, error, isLoading, refetch, ... }
  };
};
```

```vue
<!-- pages/index.vue -->
<template>
  <div>
    <div v-if="healthQuery.isLoading.value">èª­ã¿è¾¼ã¿ä¸­...</div>
    <div v-else-if="healthQuery.error.value">ã‚¨ãƒ©ãƒ¼: {{ healthQuery.error.value }}</div>
    <div v-else>
      <h2>API Status: {{ healthQuery.data.value?.status }}</h2>
      <p>Timestamp: {{ healthQuery.data.value?.timestamp }}</p>
      <button @click="healthQuery.refetch()">å†å–å¾—</button>
    </div>
  </div>
</template>

<script setup lang="ts">
const { healthQuery } = useHealthService();
</script>
```

#### 4. ã‚»ãƒ¼ãƒ•ãƒ‘ãƒ¼ã‚¹ï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä»˜ãï¼‰

```typescript
import { zGetApiHealthResponse } from '#shared/types/api';

const response = await $fetch('/api/health');
const result = zGetApiHealthResponse.safeParse(response);

if (result.success) {
  console.log('æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿:', result.data);
} else {
  console.error('ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼:', result.error);
}
```

### TanStack Query ã®è¨­å®š

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ `app/plugins/vue-query.ts` ã§ TanStack Query ã‚’è¨­å®šã—ã¦ã„ã¾ã™ï¼š

```typescript
// app/plugins/vue-query.ts
import { QueryClient, VueQueryPlugin } from '@tanstack/vue-query';

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5, // 5åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
      gcTime: 1000 * 60 * 30, // 30åˆ†é–“ãƒ¡ãƒ¢ãƒªã«ä¿æŒ
      refetchOnWindowFocus: false,
      refetchOnMount: true,
      retry: 1,
    },
  },
});
```

**ä¸»ãªç‰¹å¾´ï¼š**

- **SSRå¯¾å¿œ**: ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ•ã‚§ãƒƒãƒã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **è‡ªå‹•ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°**: 5åˆ†é–“ã®ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿å–å¾—
- **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰æ›´æ–°**: ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•åŒæœŸã¨ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥

### ã‚¹ã‚­ãƒ¼ãƒã®å†ç”Ÿæˆ

APIã‚¹ã‚­ãƒ¼ãƒãŒæ›´æ–°ã•ã‚ŒãŸå ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å‹å®šç¾©ã‚’å†ç”Ÿæˆã§ãã¾ã™ï¼š

```bash
pnpm dev
# åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œ
pnpm generate-types
```

## ğŸ¨ Nuxt 4 ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹

### ãƒšãƒ¼ã‚¸ã®è¿½åŠ 

ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€`app/pages/` ã«Vueãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã§ãã¾ã™ã€‚

```vue
<!-- app/pages/about.vue -->
<template>
  <div>
    <h1>About Page</h1>
    <p>ã“ã®ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</p>
  </div>
</template>
```

ä¸Šè¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã¨ã€`http://localhost:3000/about` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

`app/components/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ä½¿ç”¨ã§ãã¾ã™ã€‚

```vue
<!-- app/components/HelloWorld.vue -->
<template>
  <div class="hello">
    <h2>{{ message }}</h2>
  </div>
</template>

<script setup lang="ts">
interface Props {
  message: string;
}

defineProps<Props>();
</script>
```

```vue
<!-- app/pages/index.vue -->
<template>
  <div>
    <HelloWorld message="ã“ã‚“ã«ã¡ã¯ã€Nuxt 4ï¼" />
  </div>
</template>
```

### ã‚³ãƒ³ãƒãƒ¼ã‚¶ãƒ–ãƒ«ã®ä½¿ç”¨

`app/composables/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ã‚¶ãƒ–ãƒ«ã¯ã€è‡ªå‹•çš„ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¾ã™ã€‚

```typescript
// app/composables/useCounter.ts
export const useCounter = () => {
  const count = ref(0);

  const increment = () => {
    count.value++;
  };

  const decrement = () => {
    count.value--;
  };

  return {
    count: readonly(count),
    increment,
    decrement,
  };
};
```

```vue
<!-- ãƒšãƒ¼ã‚¸ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ -->
<template>
  <div>
    <p>ã‚«ã‚¦ãƒ³ãƒˆ: {{ count }}</p>
    <button @click="increment">+1</button>
    <button @click="decrement">-1</button>
  </div>
</template>

<script setup lang="ts">
const { count, increment, decrement } = useCounter();
</script>
```

## ğŸ› ï¸ é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. æ–°æ©Ÿèƒ½ã®é–‹ç™ºæ‰‹é †

1. **ãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ**

   ```bash
   git checkout -b feature/new-feature
   ```

2. **APIä»•æ§˜ã®å®šç¾©** (å¿…è¦ãªå ´åˆ)
   - `server/api/schema/` ã§Zodã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©
   - `server/api/routes/` ã§APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®Ÿè£…

3. **å‹å®šç¾©ã®ç”Ÿæˆ**

   ```bash
   pnpm generate-types
   ```

4. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å®Ÿè£…**
   - Services â†’ Store â†’ Components ã®é †ã§å®Ÿè£…
   - ã‚³ãƒ³ãƒãƒ¼ã‚¶ãƒ–ãƒ«ã§å†åˆ©ç”¨å¯èƒ½ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢

5. **ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯**
   ```bash
   pnpm lint
   ```

### 2. ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•

- **Nuxt DevTools**: ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ã‚„çŠ¶æ…‹ã‚’ç¢ºèª
- **Vue DevTools**: Vue.jså°‚ç”¨ã®ãƒ–ãƒ©ã‚¦ã‚¶æ‹¡å¼µæ©Ÿèƒ½
- **ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°**: `console.log()` ã‚’ä½¿ã£ãŸã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ãƒãƒƒã‚°
- **å‹ã‚¨ãƒ©ãƒ¼ç¢ºèª**: `pnpm typecheck` ã§TypeScriptã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸç™ºè¦‹

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

```bash
# ãƒãƒ¼ãƒˆãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å ´åˆ
pnpm dev --port 3001

# node_modules ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

#### 2. å‹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹

```bash
# å‹å®šç¾©ã‚’å†ç”Ÿæˆ
pnpm generate-types

# TypeScriptå‹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
pnpm typecheck
```

#### 3. ESLint/Prettier ã‚¨ãƒ©ãƒ¼

```bash
# è‡ªå‹•ä¿®æ­£ã‚’å®Ÿè¡Œ
pnpm lint:fix

# å€‹åˆ¥ã«ä¿®æ­£
pnpm eslint:fix
pnpm biome:fix
pnpm prettier:fix
```

#### 4. ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãŒå‹•ä½œã—ãªã„

- ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•: `Ctrl+C` â†’ `pnpm dev`

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

- [Nuxt 4 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nuxt.com/docs)
- [Hono å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://hono.dev/)
- [TanStack Query å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tanstack.com/query/latest/docs/framework/vue/overview)
- [Vue 3 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://vuejs.org/guide/)
- [TypeScript å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.typescriptlang.org/docs/)

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ãƒ»çŠ¶æ…‹ç®¡ç†

- [Tailwind CSS å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tailwindcss.com/docs)
- [Pinia å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://pinia.vuejs.org/)

### APIãƒ»ã‚¹ã‚­ãƒ¼ãƒ

- [Zod å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://zod.dev/)
- [OpenAPI Specification](https://swagger.io/specification/)
- [@hey-api/openapi-ts](https://github.com/hey-api/openapi-ts)

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/AmazingFeature`)
3. ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add some AmazingFeature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/AmazingFeature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

---

## MCP Setup

```bash
claude mcp add playwright npx @playwright/mcp@latest

claude mcp add context7 -- npx --yes @upstash/context7-mcp

claude mcp add serena -- uvx --from git+https://github.com/oraios/serena serena-mcp-server --context ide-assistant --project $(pwd)
```
